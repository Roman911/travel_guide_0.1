{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[15],{\"89Zu\":function(e,r,t){e.exports=t(\"ShjV\")},RNiq:function(e,r,t){\"use strict\";t.r(r);var n=t(\"nKUr\"),o=(t(\"q1tI\"),t(\"Rz3U\")),s=t(\"VX74\"),i=t(\"89Zu\"),u=t(\"46Yb\"),a=t(\"h4VS\"),c=t(\"lTCR\"),f=t.n(c);function l(){var e=Object(a.a)([\"\\n  query comments($postId: ID!) {\\n    comments(postId: $postId) {\\n      _id\\n    }\\n  }\\n\"]);return l=function(){return e},e}function p(){var e=Object(a.a)([\"\\n  query posts {\\n    posts {\\n      _id\\n      title\\n      createdAt\\n      small_text\\n      cover\\n      views\\n      likes\\n      author {\\n        name\\n        avatar\\n      }\\n    }\\n  }\\n\"]);return p=function(){return e},e}var d=f()(p()),m=f()(l()),h=t(\"f7R2\"),v=t(\"5cwH\"),b=t(\"lHKs\"),y=o.StyleSheet.create({wrapper:{margin:\"10px auto\",display:\"flex\",justifyContent:\"center\",alignItems:\"flex-start\"},news:{width:\"calc(100% - \".concat(b.b.rightBlock,\"px)\"),display:\"flex\",flexWrap:\"wrap\"}});r.default=Object(u.a)((function(){var e=Object(s.useQuery)(d),r=e.loading,t=e.error,i=e.data;if(r)return\"\";if(t)return\"Error! \".concat(t);var u=i.posts.map((function(e,r){var t=Object(s.useQuery)(m,{variables:{postId:e._id}}),o=t.loading,i=t.error,u=t.data;if(o)return Object(n.jsx)(v.l,{isPost:!1},r);if(i)return\"Error! \".concat(i);var a=u.comments;return Object(n.jsx)(v.r,{item:e,comments:a},r)}));return Object(n.jsx)(v.m,{title:\"Home\",header:\"\\u041d\\u043e\\u0432\\u0438\\u043d\\u0438\",children:Object(n.jsxs)(\"div\",{className:Object(o.css)(y.wrapper),children:[Object(n.jsxs)(\"div\",{className:Object(o.css)(y.news),children:[u,Object(n.jsx)(v.u,{title:\"\\u041c\\u0430\\u0440\\u0448\\u0440\\u0443\\u0442\\u0438\"})]}),Object(n.jsx)(h.h,{})]})})}),{getDataFromTree:i.getDataFromTree})},ShjV:function(e,r,t){\"use strict\";t.r(r),t.d(r,\"getMarkupFromTree\",(function(){return c})),t.d(r,\"getDataFromTree\",(function(){return a})),t.d(r,\"renderToStringWithData\",(function(){return f})),t.d(r,\"RenderPromises\",(function(){return u}));var n=t(\"mrSG\"),o=t(\"q1tI\"),s=t.n(o),i=t(\"6CgR\");var u=function(){function e(){this.queryPromises=new Map,this.queryInfoTrie=new Map}return e.prototype.registerSSRObservable=function(e,r){this.lookupQueryInfo(r).observable=e},e.prototype.getSSRObservable=function(e){return this.lookupQueryInfo(e).observable},e.prototype.addQueryPromise=function(e,r){return this.lookupQueryInfo(e.getOptions()).seen?r():(this.queryPromises.set(e.getOptions(),new Promise((function(r){r(e.fetchData())}))),null)},e.prototype.hasPromises=function(){return this.queryPromises.size>0},e.prototype.consumeAndAwaitPromises=function(){var e=this,r=[];return this.queryPromises.forEach((function(t,n){e.lookupQueryInfo(n).seen=!0,r.push(t)})),this.queryPromises.clear(),Promise.all(r)},e.prototype.lookupQueryInfo=function(e){var r=this.queryInfoTrie,t=e.query,n=e.variables,o=r.get(t)||new Map;r.has(t)||r.set(t,o);var s=JSON.stringify(n),i=o.get(s)||{seen:!1,observable:null};return o.has(s)||o.set(s,i),i},e}();function a(e,r){return void 0===r&&(r={}),c({tree:e,context:r,renderFunction:t(\"KAy6\").renderToStaticMarkup})}function c(e){var r=e.tree,o=e.context,a=void 0===o?{}:o,c=e.renderFunction,f=void 0===c?t(\"KAy6\").renderToStaticMarkup:c,l=new u;return Promise.resolve().then((function e(){var t=Object(i.b)();return new Promise((function(e){var o=s.a.createElement(t.Provider,{value:Object(n.a)(Object(n.a)({},a),{renderPromises:l})},r);e(f(o))})).then((function(r){return l.hasPromises()?l.consumeAndAwaitPromises().then(e):r}))}))}function f(e){return c({tree:e,renderFunction:t(\"KAy6\").renderToString})}},vlRD:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/\",function(){return t(\"RNiq\")}])}},[[\"vlRD\",2,1,3,7,6,0,4,5,8]]]);","extractedComments":[]}