{"ast":null,"code":"import _regeneratorRuntime from \"D:/web/travel_guide/client/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"D:/web/travel_guide/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React from \"react\";\nimport { Formik, Form } from \"formik\";\nimport usePlacesAutocomplete, { getGeocode, getLatLng } from 'use-places-autocomplete';\nimport { SearchPresent } from \"../Components/SearchPresent\";\n\nvar Search = function Search(_ref) {\n  var panTo = _ref.panTo;\n\n  var _usePlacesAutocomplet = usePlacesAutocomplete({\n    requestOptions: {\n      // @ts-ignore\n      location: {\n        lat: function lat() {\n          return 49.026151;\n        },\n        lng: function lng() {\n          return 31.483070;\n        }\n      },\n      radius: 50 * 1000\n    }\n  }),\n      ready = _usePlacesAutocomplet.ready,\n      value = _usePlacesAutocomplet.value,\n      _usePlacesAutocomplet2 = _usePlacesAutocomplet.suggestions,\n      status = _usePlacesAutocomplet2.status,\n      data = _usePlacesAutocomplet2.data,\n      setValue = _usePlacesAutocomplet.setValue,\n      clearSuggestions = _usePlacesAutocomplet.clearSuggestions;\n\n  var initialValues = {\n    description: ''\n  };\n\n  var onSubmit = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(values) {\n      var results, _yield$getLatLng, lat, lng;\n\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              setValue(values.description, false);\n              clearSuggestions();\n              _context.prev = 2;\n              _context.next = 5;\n              return getGeocode({\n                address: values.description\n              });\n\n            case 5:\n              results = _context.sent;\n              _context.next = 8;\n              return getLatLng(results[0]);\n\n            case 8:\n              _yield$getLatLng = _context.sent;\n              lat = _yield$getLatLng.lat;\n              lng = _yield$getLatLng.lng;\n              panTo({\n                lat: lat,\n                lng: lng\n              });\n              _context.next = 17;\n              break;\n\n            case 14:\n              _context.prev = 14;\n              _context.t0 = _context[\"catch\"](2);\n              console.log(_context.t0);\n\n            case 17:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[2, 14]]);\n    }));\n\n    return function onSubmit(_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/_jsx(Formik, {\n    initialValues: initialValues,\n    onSubmit: onSubmit,\n    children: function children(formik) {\n      return /*#__PURE__*/_jsx(Form, {\n        children: /*#__PURE__*/_jsx(SearchPresent, {\n          data: data,\n          formik: formik,\n          value: value,\n          setValue: setValue,\n          ready: ready,\n          status: status\n        })\n      });\n    }\n  });\n};\n\nexport default Search;","map":null,"metadata":{},"sourceType":"module"}