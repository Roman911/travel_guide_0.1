{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"D:\\\\web\\\\travel_guide\\\\client\\\\pages\\\\index.js\";\nimport React from \"react\";\nimport { css } from 'aphrodite/no-important';\nimport { useQuery } from \"@apollo/react-hooks\";\nimport { getDataFromTree } from '@apollo/react-ssr';\nimport withApollo from '../lib/withApollo';\nimport { postsQuery, commentsQuery } from \"../apollo/queries/posts\";\nimport { Populars } from \"../modules\";\nimport { LoadingPost, MainLayout, News } from \"../Components\";\nimport styles from '../styles/news';\n\nconst Home = () => {\n  const {\n    loading,\n    error,\n    data\n  } = useQuery(postsQuery);\n  if (loading) return '';\n  if (error) return `Error! ${error}`;\n  const {\n    posts\n  } = data;\n  const news = posts.map((item, index) => {\n    const {\n      loading,\n      error,\n      data\n    } = useQuery(commentsQuery, {\n      variables: {\n        postId: item._id\n      }\n    });\n    if (loading) return /*#__PURE__*/_jsxDEV(LoadingPost, {\n      isPost: false\n    }, index, false, {\n      fileName: _jsxFileName,\n      lineNumber: 20,\n      columnNumber: 25\n    }, this);\n    if (error) return `Error! ${error}`;\n    const {\n      comments\n    } = data;\n    return /*#__PURE__*/_jsxDEV(News, {\n      item: item,\n      comments: comments\n    }, index, false, {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 12\n    }, this);\n  });\n  return /*#__PURE__*/_jsxDEV(MainLayout, {\n    title: \"Home\",\n    header: \"\\u041D\\u043E\\u0432\\u0438\\u043D\\u0438\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: css(styles.wrapper),\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: css(styles.news),\n        children: news\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(Populars, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 5\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 26,\n    columnNumber: 10\n  }, this);\n};\n\nexport default withApollo(Home, {\n  getDataFromTree\n});","map":{"version":3,"sources":["D:/web/travel_guide/client/pages/index.js"],"names":["React","css","useQuery","getDataFromTree","withApollo","postsQuery","commentsQuery","Populars","LoadingPost","MainLayout","News","styles","Home","loading","error","data","posts","news","map","item","index","variables","postId","_id","comments","wrapper"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,GAAT,QAAoB,wBAApB;AACA,SAASC,QAAT,QAAyB,qBAAzB;AACA,SAASC,eAAT,QAAgC,mBAAhC;AACA,OAAOC,UAAP,MAAuB,mBAAvB;AACA,SAASC,UAAT,EAAqBC,aAArB,QAA0C,yBAA1C;AACA,SAASC,QAAT,QAAyB,YAAzB;AACA,SAASC,WAAT,EAAsBC,UAAtB,EAAkCC,IAAlC,QAA8C,eAA9C;AACA,OAAOC,MAAP,MAAmB,gBAAnB;;AAEA,MAAMC,IAAI,GAAG,MAAM;AACjB,QAAM;AAAEC,IAAAA,OAAF;AAAWC,IAAAA,KAAX;AAAkBC,IAAAA;AAAlB,MAA2Bb,QAAQ,CAACG,UAAD,CAAzC;AACA,MAAIQ,OAAJ,EAAa,OAAO,EAAP;AACb,MAAKC,KAAL,EAAa,OAAQ,UAASA,KAAM,EAAvB;AACb,QAAM;AAAEE,IAAAA;AAAF,MAAYD,IAAlB;AACA,QAAME,IAAI,GAAGD,KAAK,CAACE,GAAN,CAAU,CAACC,IAAD,EAAOC,KAAP,KAAiB;AACtC,UAAM;AAAEP,MAAAA,OAAF;AAAWC,MAAAA,KAAX;AAAkBC,MAAAA;AAAlB,QAA2Bb,QAAQ,CAAEI,aAAF,EAAiB;AACxDe,MAAAA,SAAS,EAAE;AAAEC,QAAAA,MAAM,EAAEH,IAAI,CAACI;AAAf;AAD6C,KAAjB,CAAzC;AAGA,QAAIV,OAAJ,EAAa,oBAAO,QAAC,WAAD;AAA2B,MAAA,MAAM,EAAG;AAApC,OAAmBO,KAAnB;AAAA;AAAA;AAAA;AAAA,YAAP;AACb,QAAIN,KAAJ,EAAW,OAAQ,UAASA,KAAM,EAAvB;AACX,UAAM;AAAEU,MAAAA;AAAF,QAAeT,IAArB;AACA,wBAAO,QAAC,IAAD;AAAoB,MAAA,IAAI,EAAGI,IAA3B;AAAkC,MAAA,QAAQ,EAAGK;AAA7C,OAAYJ,KAAZ;AAAA;AAAA;AAAA;AAAA,YAAP;AACD,GARY,CAAb;AAUA,sBAAO,QAAC,UAAD;AAAY,IAAA,KAAK,EAAC,MAAlB;AAAyB,IAAA,MAAM,EAAC,sCAAhC;AAAA,2BACL;AAAK,MAAA,SAAS,EAAEnB,GAAG,CAACU,MAAM,CAACc,OAAR,CAAnB;AAAA,8BACE;AAAK,QAAA,SAAS,EAAGxB,GAAG,CAACU,MAAM,CAACM,IAAR,CAApB;AAAA,kBACIA;AADJ;AAAA;AAAA;AAAA;AAAA,cADF,eAIE,QAAC,QAAD;AAAA;AAAA;AAAA;AAAA,cAJF;AAAA;AAAA;AAAA;AAAA;AAAA;AADK;AAAA;AAAA;AAAA;AAAA,UAAP;AAQD,CAvBD;;AAyBA,eAAeb,UAAU,CAACQ,IAAD,EAAO;AAAET,EAAAA;AAAF,CAAP,CAAzB","sourcesContent":["import React from \"react\"\nimport { css } from 'aphrodite/no-important'\nimport { useQuery } from \"@apollo/react-hooks\"\nimport { getDataFromTree } from '@apollo/react-ssr'\nimport withApollo from '../lib/withApollo'\nimport { postsQuery, commentsQuery } from \"../apollo/queries/posts\"\nimport { Populars } from \"../modules\"\nimport { LoadingPost, MainLayout, News } from \"../Components\"\nimport styles from '../styles/news'\n\nconst Home = () => {\n  const { loading, error, data } = useQuery(postsQuery)\n  if (loading) return ''\n  if  (error ) return `Error! ${error}`\n  const { posts } = data\n  const news = posts.map((item, index) => {\n    const { loading, error, data } = useQuery( commentsQuery, {\n      variables: { postId: item._id }\n    })\n    if (loading) return <LoadingPost key={ index } isPost={ false } />\n    if (error) return `Error! ${error}`\n    const { comments } = data\n    return <News key={ index } item={ item } comments={ comments } />\n  })\n\n  return <MainLayout title='Home' header='Новини' >\n    <div className={css(styles.wrapper)}>\n      <div className={ css(styles.news) }>\n        { news }\n      </div>\n      <Populars />\n    </div>\n  </MainLayout>\n}\n\nexport default withApollo(Home, { getDataFromTree })"]},"metadata":{},"sourceType":"module"}