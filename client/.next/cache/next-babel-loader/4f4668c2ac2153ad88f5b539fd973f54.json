{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"D:\\\\web\\\\travel_guide\\\\client\\\\pages\\\\index.js\",\n    _this = this,\n    _s2 = $RefreshSig$();\n\nimport React from \"react\";\nimport { css } from 'aphrodite/no-important';\nimport { useQuery } from \"@apollo/react-hooks\";\nimport { getDataFromTree } from '@apollo/react-ssr';\nimport withApollo from '../lib/withApollo';\nimport { postsQuery, commentsQuery } from \"../apollo/queries/posts\";\nimport { Populars } from \"../modules\";\nimport { LoadingPost, MainLayout, News, SectionTitle } from \"../Components\";\nimport styles from '../styles/news';\n\nvar Home = function Home() {\n  _s2();\n\n  var _s = $RefreshSig$();\n\n  var _useQuery = useQuery(postsQuery),\n      loading = _useQuery.loading,\n      error = _useQuery.error,\n      data = _useQuery.data;\n\n  if (loading) return '';\n  if (error) return \"Error! \".concat(error);\n  var posts = data.posts;\n  var news = posts.map(_s(function (item, index) {\n    _s();\n\n    var _useQuery2 = useQuery(commentsQuery, {\n      variables: {\n        postId: item._id\n      }\n    }),\n        loading = _useQuery2.loading,\n        error = _useQuery2.error,\n        data = _useQuery2.data;\n\n    if (loading) return /*#__PURE__*/_jsxDEV(LoadingPost, {\n      isPost: false\n    }, index, false, {\n      fileName: _jsxFileName,\n      lineNumber: 20,\n      columnNumber: 25\n    }, _this);\n    if (error) return \"Error! \".concat(error);\n    var comments = data.comments;\n    return /*#__PURE__*/_jsxDEV(News, {\n      item: item,\n      comments: comments\n    }, index, false, {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 12\n    }, _this);\n  }, \"OQZiY3KqWoytFPIJWw/H9Hrmbok=\", false, function () {\n    return [useQuery];\n  }));\n  return /*#__PURE__*/_jsxDEV(MainLayout, {\n    title: \"Home\",\n    header: \"\\u041D\\u043E\\u0432\\u0438\\u043D\\u0438\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: css(styles.wrapper),\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: css(styles.news),\n        children: [news, /*#__PURE__*/_jsxDEV(SectionTitle, {\n          title: \"\\u041C\\u0430\\u0440\\u0448\\u0440\\u0443\\u0442\\u0438\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 30,\n          columnNumber: 9\n        }, _this), news]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 7\n      }, _this), /*#__PURE__*/_jsxDEV(Populars, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 7\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 5\n    }, _this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 26,\n    columnNumber: 10\n  }, _this);\n};\n\n_s2(Home, \"OQZiY3KqWoytFPIJWw/H9Hrmbok=\", false, function () {\n  return [useQuery];\n});\n\n_c = Home;\nexport default _c2 = withApollo(Home, {\n  getDataFromTree: getDataFromTree\n});\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Home\");\n$RefreshReg$(_c2, \"%default%\");","map":{"version":3,"sources":["D:/web/travel_guide/client/pages/index.js"],"names":["React","css","useQuery","getDataFromTree","withApollo","postsQuery","commentsQuery","Populars","LoadingPost","MainLayout","News","SectionTitle","styles","Home","loading","error","data","posts","news","map","item","index","variables","postId","_id","comments","wrapper"],"mappings":";;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,GAAT,QAAoB,wBAApB;AACA,SAASC,QAAT,QAAyB,qBAAzB;AACA,SAASC,eAAT,QAAgC,mBAAhC;AACA,OAAOC,UAAP,MAAuB,mBAAvB;AACA,SAASC,UAAT,EAAqBC,aAArB,QAA0C,yBAA1C;AACA,SAASC,QAAT,QAAyB,YAAzB;AACA,SAAQC,WAAR,EAAqBC,UAArB,EAAiCC,IAAjC,EAAuCC,YAAvC,QAA0D,eAA1D;AACA,OAAOC,MAAP,MAAmB,gBAAnB;;AAEA,IAAMC,IAAI,GAAG,SAAPA,IAAO,GAAM;AAAA;;AAAA;;AAAA,kBACgBX,QAAQ,CAACG,UAAD,CADxB;AAAA,MACTS,OADS,aACTA,OADS;AAAA,MACAC,KADA,aACAA,KADA;AAAA,MACOC,IADP,aACOA,IADP;;AAEjB,MAAIF,OAAJ,EAAa,OAAO,EAAP;AACb,MAAKC,KAAL,EAAa,wBAAiBA,KAAjB;AAHI,MAITE,KAJS,GAICD,IAJD,CAITC,KAJS;AAKjB,MAAMC,IAAI,GAAGD,KAAK,CAACE,GAAN,IAAU,UAACC,IAAD,EAAOC,KAAP,EAAiB;AAAA;;AAAA,qBACLnB,QAAQ,CAAEI,aAAF,EAAiB;AACxDgB,MAAAA,SAAS,EAAE;AAAEC,QAAAA,MAAM,EAAEH,IAAI,CAACI;AAAf;AAD6C,KAAjB,CADH;AAAA,QAC9BV,OAD8B,cAC9BA,OAD8B;AAAA,QACrBC,KADqB,cACrBA,KADqB;AAAA,QACdC,IADc,cACdA,IADc;;AAItC,QAAIF,OAAJ,EAAa,oBAAO,QAAC,WAAD;AAA2B,MAAA,MAAM,EAAG;AAApC,OAAmBO,KAAnB;AAAA;AAAA;AAAA;AAAA,aAAP;AACb,QAAIN,KAAJ,EAAW,wBAAiBA,KAAjB;AAL2B,QAM9BU,QAN8B,GAMjBT,IANiB,CAM9BS,QAN8B;AAOtC,wBAAO,QAAC,IAAD;AAAoB,MAAA,IAAI,EAAGL,IAA3B;AAAkC,MAAA,QAAQ,EAAGK;AAA7C,OAAYJ,KAAZ;AAAA;AAAA;AAAA;AAAA,aAAP;AACD,GARY;AAAA,YACsBnB,QADtB;AAAA,KAAb;AAUA,sBAAO,QAAC,UAAD;AAAY,IAAA,KAAK,EAAC,MAAlB;AAAyB,IAAA,MAAM,EAAC,sCAAhC;AAAA,2BACL;AAAK,MAAA,SAAS,EAAED,GAAG,CAACW,MAAM,CAACc,OAAR,CAAnB;AAAA,8BACE;AAAK,QAAA,SAAS,EAAGzB,GAAG,CAACW,MAAM,CAACM,IAAR,CAApB;AAAA,mBACIA,IADJ,eAEE,QAAC,YAAD;AAAc,UAAA,KAAK,EAAC;AAApB;AAAA;AAAA;AAAA;AAAA,iBAFF,EAGIA,IAHJ;AAAA;AAAA;AAAA;AAAA;AAAA,eADF,eAME,QAAC,QAAD;AAAA;AAAA;AAAA;AAAA,eANF;AAAA;AAAA;AAAA;AAAA;AAAA;AADK;AAAA;AAAA;AAAA;AAAA,WAAP;AAUD,CAzBD;;IAAML,I;UAC6BX,Q;;;KAD7BW,I;AA2BN,qBAAeT,UAAU,CAACS,IAAD,EAAO;AAAEV,EAAAA,eAAe,EAAfA;AAAF,CAAP,CAAzB","sourcesContent":["import React from \"react\"\nimport { css } from 'aphrodite/no-important'\nimport { useQuery } from \"@apollo/react-hooks\"\nimport { getDataFromTree } from '@apollo/react-ssr'\nimport withApollo from '../lib/withApollo'\nimport { postsQuery, commentsQuery } from \"../apollo/queries/posts\"\nimport { Populars } from \"../modules\"\nimport {LoadingPost, MainLayout, News, SectionTitle} from \"../Components\"\nimport styles from '../styles/news'\n\nconst Home = () => {\n  const { loading, error, data } = useQuery(postsQuery)\n  if (loading) return ''\n  if  (error ) return `Error! ${error}`\n  const { posts } = data\n  const news = posts.map((item, index) => {\n    const { loading, error, data } = useQuery( commentsQuery, {\n      variables: { postId: item._id }\n    })\n    if (loading) return <LoadingPost key={ index } isPost={ false } />\n    if (error) return `Error! ${error}`\n    const { comments } = data\n    return <News key={ index } item={ item } comments={ comments } />\n  })\n\n  return <MainLayout title='Home' header='Новини' >\n    <div className={css(styles.wrapper)}>\n      <div className={ css(styles.news) }>\n        { news }\n        <SectionTitle title='Маршрути' />\n        { news }\n      </div>\n      <Populars />\n    </div>\n  </MainLayout>\n}\n\nexport default withApollo(Home, { getDataFromTree })"]},"metadata":{},"sourceType":"module"}