{"ast":null,"code":"import _slicedToArray from \"D:/web/travel_guide/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"D:\\\\web\\\\travel_guide\\\\client\\\\modules\\\\ModalSetting\\\\Containers\\\\ModalSetting.tsx\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useMutation } from '@apollo/react-hooks';\nimport { Modal } from \"../Components/Modal\";\nimport { modalActions } from \"../../../redux/actions\";\nimport { addLocationsUserListMutation } from './mutations';\nexport var ModalSetting = function ModalSetting(_ref) {\n  _s();\n\n  var mapInformation = _ref.mapInformation;\n\n  var _useSelector = useSelector(function (state) {\n    return state.user;\n  }),\n      data = _useSelector.data;\n\n  var dispatch = useDispatch();\n\n  var _useState = useState(false),\n      showModalSetting = _useState[0],\n      setShowModalSetting = _useState[1];\n\n  var _useState2 = useState(false),\n      closeModalSetting = _useState2[0],\n      setCloseModalSetting = _useState2[1];\n\n  var _useMutation = useMutation(addLocationsUserListMutation),\n      _useMutation2 = _slicedToArray(_useMutation, 1),\n      addLocationsUserList = _useMutation2[0];\n\n  var handleClick = function handleClick() {\n    if (data) {\n      if (showModalSetting) {\n        setCloseModalSetting(true);\n        setTimeout(function () {\n          setCloseModalSetting(false);\n          setShowModalSetting(false);\n        }, 400);\n      } else {\n        setShowModalSetting(true);\n      }\n    } else {\n      dispatch(modalActions.showModal('Для виконання данної дії потрібно авторизоватись'));\n    }\n  };\n\n  var addLocationMyList = function addLocationMyList(action) {\n    handleClick();\n    addLocationsUserList({\n      variables: {\n        userId: data.userId,\n        locationId: '5e8dd38b3e3a8b4608faf12d',\n        action: action\n      }\n    }).then(function (data) {\n      if (data) {\n        dispatch(modalActions.showModal('Локація успішно добавлена у ваш список'));\n      }\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(Modal, {\n    mapInformation: mapInformation,\n    handleClick: handleClick,\n    showModalSetting: showModalSetting,\n    closeModalSetting: closeModalSetting,\n    addLocationMyList: addLocationMyList\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 10\n  }, _this);\n};\n\n_s(ModalSetting, \"B6mssHLMgxVP+zrQfC82gsLxsds=\", false, function () {\n  return [useSelector, useDispatch, useMutation];\n});\n\n_c = ModalSetting;\n\nvar _c;\n\n$RefreshReg$(_c, \"ModalSetting\");","map":{"version":3,"sources":["D:/web/travel_guide/client/modules/ModalSetting/Containers/ModalSetting.tsx"],"names":["React","useState","useSelector","useDispatch","useMutation","Modal","modalActions","addLocationsUserListMutation","ModalSetting","mapInformation","state","user","data","dispatch","showModalSetting","setShowModalSetting","closeModalSetting","setCloseModalSetting","addLocationsUserList","handleClick","setTimeout","showModal","addLocationMyList","action","variables","userId","locationId","then"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,SAASC,WAAT,QAA4B,qBAA5B;AACA,SAASC,KAAT,QAAsB,qBAAtB;AACA,SAASC,YAAT,QAA6B,wBAA7B;AACA,SAASC,4BAAT,QAA6C,aAA7C;AAOA,OAAO,IAAMC,YAAyC,GAAG,SAA5CA,YAA4C,OAAwB;AAAA;;AAAA,MAArBC,cAAqB,QAArBA,cAAqB;;AAAA,qBAC9DP,WAAW,CAAC,UAACQ,KAAD;AAAA,WAA2BA,KAAK,CAACC,IAAjC;AAAA,GAAD,CADmD;AAAA,MACvEC,IADuE,gBACvEA,IADuE;;AAE/E,MAAMC,QAAQ,GAAGV,WAAW,EAA5B;;AAF+E,kBAG/BF,QAAQ,CAAC,KAAD,CAHuB;AAAA,MAGxEa,gBAHwE;AAAA,MAGtDC,mBAHsD;;AAAA,mBAI7Bd,QAAQ,CAAC,KAAD,CAJqB;AAAA,MAIxEe,iBAJwE;AAAA,MAIrDC,oBAJqD;;AAAA,qBAKhDb,WAAW,CAACG,4BAAD,CALqC;AAAA;AAAA,MAKxEW,oBALwE;;AAM/E,MAAMC,WAAW,GAAG,SAAdA,WAAc,GAAM;AACxB,QAAIP,IAAJ,EAAU;AACR,UAAIE,gBAAJ,EAAsB;AACpBG,QAAAA,oBAAoB,CAAC,IAAD,CAApB;AACAG,QAAAA,UAAU,CAAC,YAAM;AACfH,UAAAA,oBAAoB,CAAC,KAAD,CAApB;AACAF,UAAAA,mBAAmB,CAAC,KAAD,CAAnB;AACD,SAHS,EAGP,GAHO,CAAV;AAID,OAND,MAMO;AACLA,QAAAA,mBAAmB,CAAC,IAAD,CAAnB;AACD;AACF,KAVD,MAUO;AACLF,MAAAA,QAAQ,CAACP,YAAY,CAACe,SAAb,CAAuB,kDAAvB,CAAD,CAAR;AACD;AACF,GAdD;;AAeA,MAAMC,iBAAiB,GAAG,SAApBA,iBAAoB,CAACC,MAAD,EAAoB;AAC5CJ,IAAAA,WAAW;AACXD,IAAAA,oBAAoB,CAAC;AACnBM,MAAAA,SAAS,EAAE;AACTC,QAAAA,MAAM,EAAEb,IAAI,CAACa,MADJ;AAETC,QAAAA,UAAU,EAAE,0BAFH;AAGTH,QAAAA,MAAM,EAAEA;AAHC;AADQ,KAAD,CAApB,CAMGI,IANH,CAMQ,UAAAf,IAAI,EAAI;AACd,UAAIA,IAAJ,EAAU;AACRC,QAAAA,QAAQ,CAACP,YAAY,CAACe,SAAb,CAAuB,wCAAvB,CAAD,CAAR;AACD;AACF,KAVD;AAWD,GAbD;;AAeA,sBAAO,QAAC,KAAD;AAAO,IAAA,cAAc,EAAGZ,cAAxB;AAAyC,IAAA,WAAW,EAAGU,WAAvD;AAAqE,IAAA,gBAAgB,EAAGL,gBAAxF;AAA2G,IAAA,iBAAiB,EAAGE,iBAA/H;AAAmJ,IAAA,iBAAiB,EAAGM;AAAvK;AAAA;AAAA;AAAA;AAAA,WAAP;AACD,CArCM;;GAAMd,Y;UACMN,W,EACAC,W,EAGcC,W;;;KALpBI,Y","sourcesContent":["import React, { useState } from \"react\"\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { useMutation } from '@apollo/react-hooks'\r\nimport { Modal } from \"../Components/Modal\"\r\nimport { modalActions } from \"../../../redux/actions\"\r\nimport { addLocationsUserListMutation } from './mutations'\r\nimport { User } from \"../../../types/user\"\r\n\r\ntype ModalSettingProps = {\r\n  mapInformation?: boolean\r\n}\r\n\r\nexport const ModalSetting: React.FC<ModalSettingProps> = ({ mapInformation }) => {\r\n  const { data } = useSelector((state: { user: User }) => state.user)\r\n  const dispatch = useDispatch()\r\n  const [showModalSetting, setShowModalSetting] = useState(false)\r\n  const [closeModalSetting, setCloseModalSetting] = useState(false)\r\n  const [addLocationsUserList] = useMutation(addLocationsUserListMutation)\r\n  const handleClick = () => {\r\n    if (data) {\r\n      if (showModalSetting) {\r\n        setCloseModalSetting(true)\r\n        setTimeout(() => {\r\n          setCloseModalSetting(false)\r\n          setShowModalSetting(false)\r\n        }, 400)\r\n      } else {\r\n        setShowModalSetting(true)\r\n      }\r\n    } else {\r\n      dispatch(modalActions.showModal('Для виконання данної дії потрібно авторизоватись'))\r\n    }\r\n  }\r\n  const addLocationMyList = (action: string) => {\r\n    handleClick()\r\n    addLocationsUserList({\r\n      variables: {\r\n        userId: data.userId,\r\n        locationId: '5e8dd38b3e3a8b4608faf12d',\r\n        action: action\r\n      }\r\n    }).then(data => {\r\n      if (data) {\r\n        dispatch(modalActions.showModal('Локація успішно добавлена у ваш список'))\r\n      }\r\n    })\r\n  }\r\n\r\n  return <Modal mapInformation={ mapInformation } handleClick={ handleClick } showModalSetting={ showModalSetting } closeModalSetting={ closeModalSetting } addLocationMyList={ addLocationMyList } />\r\n}"]},"metadata":{},"sourceType":"module"}