{"ast":null,"code":"import _slicedToArray from \"D:/web/travel_guide/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React, { useState } from \"react\";\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useMutation } from '@apollo/react-hooks';\nimport { Modal } from \"../Components/Modal\";\nimport { modalActions } from \"../../../redux/actions\";\nimport { addLocationsUserListMutation } from './mutations';\nexport var ModalSetting = function ModalSetting(_ref) {\n  var mapInformation = _ref.mapInformation;\n\n  var _useSelector = useSelector(function (state) {\n    return state.user;\n  }),\n      data = _useSelector.data;\n\n  var dispatch = useDispatch();\n\n  var _useState = useState(false),\n      showModalSetting = _useState[0],\n      setShowModalSetting = _useState[1];\n\n  var _useState2 = useState(false),\n      closeModalSetting = _useState2[0],\n      setCloseModalSetting = _useState2[1];\n\n  var _useMutation = useMutation(addLocationsUserListMutation),\n      _useMutation2 = _slicedToArray(_useMutation, 1),\n      addLocationsUserList = _useMutation2[0];\n\n  var handleClick = function handleClick() {\n    if (data) {\n      if (showModalSetting) {\n        setCloseModalSetting(true);\n        setTimeout(function () {\n          setCloseModalSetting(false);\n          setShowModalSetting(false);\n        }, 400);\n      } else {\n        setShowModalSetting(true);\n      }\n    } else {\n      dispatch(modalActions.showModal('Для виконання данної дії потрібно авторизоватись'));\n    }\n  };\n\n  var addLocationMyList = function addLocationMyList(action) {\n    handleClick();\n    addLocationsUserList({\n      variables: {\n        userId: data.userId,\n        locationId: '5e8dd38b3e3a8b4608faf12d',\n        action: action\n      }\n    }).then(function (data) {\n      if (data) {\n        dispatch(modalActions.showModal('Локація успішно добавлена у ваш список'));\n      }\n    });\n  };\n\n  return /*#__PURE__*/_jsx(Modal, {\n    mapInformation: mapInformation,\n    handleClick: handleClick,\n    showModalSetting: showModalSetting,\n    closeModalSetting: closeModalSetting,\n    addLocationMyList: addLocationMyList\n  });\n};","map":null,"metadata":{},"sourceType":"module"}