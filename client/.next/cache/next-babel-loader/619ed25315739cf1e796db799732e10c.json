{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React from \"react\";\nimport { css } from 'aphrodite/no-important';\nimport { useQuery } from \"@apollo/react-hooks\";\nimport { getDataFromTree } from '@apollo/react-ssr';\nimport withApollo from '../lib/withApollo';\nimport { postsQuery, commentsQuery } from \"../apollo/queries/posts\";\nimport { Populars } from \"../modules\";\nimport { LoadingPost, MainLayout, News, SectionTitle } from \"../Components\";\nimport styles from '../styles/news';\n\nvar Home = function Home() {\n  var _useQuery = useQuery(postsQuery),\n      loading = _useQuery.loading,\n      error = _useQuery.error,\n      data = _useQuery.data;\n\n  if (loading) return '';\n  if (error) return \"Error! \".concat(error);\n  var posts = data.posts;\n  var news = posts.map(function (item, index) {\n    var _useQuery2 = useQuery(commentsQuery, {\n      variables: {\n        postId: item._id\n      }\n    }),\n        loading = _useQuery2.loading,\n        error = _useQuery2.error,\n        data = _useQuery2.data;\n\n    if (loading) return /*#__PURE__*/_jsx(LoadingPost, {\n      isPost: false\n    }, index);\n    if (error) return \"Error! \".concat(error);\n    var comments = data.comments;\n    return /*#__PURE__*/_jsx(News, {\n      item: item,\n      comments: comments\n    }, index);\n  });\n  return /*#__PURE__*/_jsx(MainLayout, {\n    title: \"Home\",\n    header: \"\\u041D\\u043E\\u0432\\u0438\\u043D\\u0438\",\n    children: /*#__PURE__*/_jsxs(\"div\", {\n      className: css(styles.wrapper),\n      children: [/*#__PURE__*/_jsxs(\"div\", {\n        className: css(styles.news),\n        children: [news, /*#__PURE__*/_jsx(SectionTitle, {\n          title: \"\\u041C\\u0430\\u0440\\u0448\\u0440\\u0443\\u0442\\u0438\"\n        })]\n      }), /*#__PURE__*/_jsx(Populars, {})]\n    })\n  });\n};\n\nexport default withApollo(Home, {\n  getDataFromTree: getDataFromTree\n});","map":null,"metadata":{},"sourceType":"module"}