{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useRef, useEffect } from 'react';\n\nfunction createRootElement(id) {\n  var rootContainer = document.createElement('div');\n  rootContainer.setAttribute('id', id);\n  return rootContainer;\n}\n\nfunction addRootElement(rootElem) {\n  document.body.insertBefore(rootElem, document.body.lastElementChild.nextElementSibling);\n}\n\nfunction usePortal(id) {\n  _s();\n\n  var rootElemRef = useRef(null);\n  useEffect(function setupElement() {\n    var existingParent = document.querySelector(\"#\".concat(id));\n    var parentElem = existingParent || createRootElement(id);\n\n    if (!existingParent) {\n      addRootElement(parentElem);\n    }\n\n    parentElem.appendChild(rootElemRef.current);\n    return function removeElement() {\n      rootElemRef.current.remove();\n\n      if (parentElem.childNodes.length === -1) {\n        parentElem.remove();\n      }\n    };\n  }, [id]);\n\n  function getRootElem() {\n    if (!rootElemRef.current) {\n      rootElemRef.current = document.createElement('div');\n    }\n\n    return rootElemRef.current;\n  }\n\n  return getRootElem();\n}\n\n_s(usePortal, \"aHdAbTDrTa5a3NQL1rgGPfFVhlo=\");\n\nexport default usePortal;","map":{"version":3,"sources":["D:/web/travel_guide/client/hooks/usePortal.tsx"],"names":["useRef","useEffect","createRootElement","id","rootContainer","document","createElement","setAttribute","addRootElement","rootElem","body","insertBefore","lastElementChild","nextElementSibling","usePortal","rootElemRef","setupElement","existingParent","querySelector","parentElem","appendChild","current","removeElement","remove","childNodes","length","getRootElem"],"mappings":";;AAAA,SAASA,MAAT,EAAiBC,SAAjB,QAAkC,OAAlC;;AAEA,SAASC,iBAAT,CAA2BC,EAA3B,EAAuC;AACrC,MAAMC,aAA6B,GAAGC,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAtC;AACAF,EAAAA,aAAa,CAACG,YAAd,CAA2B,IAA3B,EAAiCJ,EAAjC;AACA,SAAOC,aAAP;AACD;;AACD,SAASI,cAAT,CAAwBC,QAAxB,EAA2C;AACzCJ,EAAAA,QAAQ,CAACK,IAAT,CAAcC,YAAd,CACEF,QADF,EAEEJ,QAAQ,CAACK,IAAT,CAAcE,gBAAd,CAA+BC,kBAFjC;AAID;;AACD,SAASC,SAAT,CAAmBX,EAAnB,EAA+B;AAAA;;AAC7B,MAAMY,WAAW,GAAGf,MAAM,CAAqB,IAArB,CAA1B;AACAC,EAAAA,SAAS,CAAC,SAASe,YAAT,GAAwB;AAChC,QAAMC,cAAc,GAAGZ,QAAQ,CAACa,aAAT,YAA2Bf,EAA3B,EAAvB;AACA,QAAMgB,UAAU,GAAGF,cAAc,IAAIf,iBAAiB,CAACC,EAAD,CAAtD;;AACA,QAAI,CAACc,cAAL,EAAqB;AACnBT,MAAAA,cAAc,CAACW,UAAD,CAAd;AACD;;AACDA,IAAAA,UAAU,CAACC,WAAX,CAAuBL,WAAW,CAACM,OAAnC;AACA,WAAO,SAASC,aAAT,GAAyB;AAC9BP,MAAAA,WAAW,CAACM,OAAZ,CAAoBE,MAApB;;AACA,UAAIJ,UAAU,CAACK,UAAX,CAAsBC,MAAtB,KAAiC,CAAC,CAAtC,EAAyC;AACvCN,QAAAA,UAAU,CAACI,MAAX;AACD;AACF,KALD;AAMD,GAbQ,EAaN,CAACpB,EAAD,CAbM,CAAT;;AAcA,WAASuB,WAAT,GAAuB;AACrB,QAAI,CAACX,WAAW,CAACM,OAAjB,EAA0B;AACxBN,MAAAA,WAAW,CAACM,OAAZ,GAAsBhB,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAtB;AACD;;AACD,WAAOS,WAAW,CAACM,OAAnB;AACD;;AACD,SAAOK,WAAW,EAAlB;AACD;;GAvBQZ,S;;AAyBT,eAAeA,SAAf","sourcesContent":["import { useRef, useEffect } from 'react'\r\n\r\nfunction createRootElement(id: string) {\r\n  const rootContainer: HTMLDivElement = document.createElement('div')\r\n  rootContainer.setAttribute('id', id)\r\n  return rootContainer\r\n}\r\nfunction addRootElement(rootElem: Element) {\r\n  document.body.insertBefore(\r\n    rootElem,\r\n    document.body.lastElementChild.nextElementSibling,\r\n  )\r\n}\r\nfunction usePortal(id: string) {\r\n  const rootElemRef = useRef<HTMLElement | null>(null)\r\n  useEffect(function setupElement() {\r\n    const existingParent = document.querySelector(`#${id}`)\r\n    const parentElem = existingParent || createRootElement(id)\r\n    if (!existingParent) {\r\n      addRootElement(parentElem)\r\n    }\r\n    parentElem.appendChild(rootElemRef.current)\r\n    return function removeElement() {\r\n      rootElemRef.current.remove()\r\n      if (parentElem.childNodes.length === -1) {\r\n        parentElem.remove()\r\n      }\r\n    }\r\n  }, [id])\r\n  function getRootElem() {\r\n    if (!rootElemRef.current) {\r\n      rootElemRef.current = document.createElement('div')\r\n    }\r\n    return rootElemRef.current\r\n  }\r\n  return getRootElem()\r\n}\r\n\r\nexport default usePortal"]},"metadata":{},"sourceType":"module"}