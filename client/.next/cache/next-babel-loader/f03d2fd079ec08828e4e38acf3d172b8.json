{"ast":null,"code":"import { jsx as _jsx } from \"react/jsx-runtime\";\nimport React, { useState } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { useQuery } from '@apollo/react-hooks';\nimport { locationsUserQuery } from '../apollo/queries/locationsUser';\nimport { Loading, MainLayout, ProfileMain } from \"../Components\";\nimport withApollo from \"../lib/withApollo\";\nimport Redirect from \"../hooks/useRedirect\";\n\nconst Profile = () => {\n  const user = useSelector(state => state.user);\n\n  if (!user.data) {\n    return /*#__PURE__*/_jsx(Redirect, {\n      to: '/login'\n    });\n  }\n\n  const {\n    0: nameSection,\n    1: setNameSection\n  } = useState('wantToVisit');\n  const {\n    loading,\n    error,\n    data,\n    refetch\n  } = useQuery(locationsUserQuery, {\n    variables: {\n      userId: user.data.userId,\n      action: 'wantToVisit'\n    }\n  });\n  if (loading) return /*#__PURE__*/_jsx(Loading, {});\n  if (error) return `Error! ${error}`;\n  const {\n    locationsUserList\n  } = data;\n\n  const handleClick = action => {\n    setNameSection(action);\n    refetch({\n      userId: user.data.userId,\n      action: action\n    }).then(r => r);\n  };\n\n  return user.data && /*#__PURE__*/_jsx(MainLayout, {\n    title: \"Profile\",\n    children: /*#__PURE__*/_jsx(ProfileMain, {\n      handleClick: handleClick,\n      data: user.data,\n      nameSection: nameSection,\n      locationsUserList: locationsUserList\n    })\n  });\n};\n\nexport default withApollo(Profile);","map":null,"metadata":{},"sourceType":"module"}