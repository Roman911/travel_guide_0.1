{"ast":null,"code":"import _slicedToArray from \"D:/web/travel_guide/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React from \"react\";\nimport { useMutation, useQuery } from '@apollo/react-hooks';\nimport { locationQuery } from \"./querys\";\nimport { Loading, VisualContent } from \"../../Components\";\nimport { addLocationsUserListMutation } from \"../../modules/InformUserLocation/Containers/mutations\";\nimport { removeLocationWithUserListMutation } from './mutations';\nexport var Location = function Location(_ref) {\n  var _id = _ref._id,\n      locationId = _ref.locationId,\n      nameSection = _ref.nameSection,\n      handleClick = _ref.handleClick;\n\n  var _useMutation = useMutation(addLocationsUserListMutation),\n      _useMutation2 = _slicedToArray(_useMutation, 1),\n      addLocationsUserList = _useMutation2[0];\n\n  var _useMutation3 = useMutation(removeLocationWithUserListMutation),\n      _useMutation4 = _slicedToArray(_useMutation3, 1),\n      removeLocationWithUserList = _useMutation4[0];\n\n  var _useQuery = useQuery(locationQuery, {\n    variables: {\n      _id: locationId\n    }\n  }),\n      loading = _useQuery.loading,\n      error = _useQuery.error,\n      data = _useQuery.data;\n\n  var updateLocationMyList = function updateLocationMyList() {\n    addLocationsUserList({\n      variables: {\n        _id: _id,\n        action: 'visited'\n      }\n    }).then(function (data) {\n      if (data) {\n        handleClick('wantToVisit');\n      }\n    });\n  };\n\n  var removeLocation = function removeLocation() {\n    removeLocationWithUserList({\n      variables: {\n        _id: _id\n      }\n    }).then(function (data) {\n      if (data) {\n        handleClick(nameSection);\n      }\n    });\n  };\n\n  if (loading) return /*#__PURE__*/_jsx(Loading, {});\n  if (error) return \"Error! \".concat(error);\n  var location = data.location;\n  return /*#__PURE__*/_jsx(VisualContent, {\n    location: location,\n    nameSection: nameSection,\n    updateLocationMyList: updateLocationMyList,\n    removeLocation: removeLocation\n  });\n};","map":null,"metadata":{},"sourceType":"module"}