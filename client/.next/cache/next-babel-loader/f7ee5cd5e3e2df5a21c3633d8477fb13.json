{"ast":null,"code":"import _slicedToArray from \"D:/web/travel_guide/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React from \"react\";\nimport { useDispatch } from 'react-redux';\nimport { useQuery, useMutation } from '@apollo/react-hooks';\nimport { InformLocation } from \"../Components/InformLocation\";\nimport { modalActions } from \"../../../redux/actions\";\nimport { locationUserQuery } from './querys';\nimport { addLocationsUserListMutation } from \"./mutations\";\nimport { Loading } from \"../../../Components\";\nexport var InformUserLocation = function InformUserLocation(_ref) {\n  var user = _ref.user,\n      locationId = _ref.locationId;\n  var dispatch = useDispatch();\n\n  var _useMutation = useMutation(addLocationsUserListMutation),\n      _useMutation2 = _slicedToArray(_useMutation, 1),\n      addLocationsUserList = _useMutation2[0];\n\n  var _useQuery = useQuery(locationUserQuery, {\n    variables: {\n      userId: user.data.userId,\n      locationId: locationId\n    }\n  }),\n      loading = _useQuery.loading,\n      error = _useQuery.error,\n      data = _useQuery.data;\n\n  var addLocationMyList = function addLocationMyList(action) {\n    var locationUser = data.locationUser;\n    var variables = {\n      userId: user.data.userId,\n      locationId: locationId,\n      action: action\n    };\n    locationUser && (variables._id = locationUser._id);\n    addLocationsUserList({\n      variables: variables,\n      refetchQueries: [{\n        query: locationUserQuery,\n        variables: {\n          userId: user.data.userId,\n          locationId: locationId\n        }\n      }]\n    }).then(function (data) {\n      if (data) {\n        dispatch(modalActions.showModal('Локація успішно добавлена у ваш список'));\n      }\n    });\n  };\n\n  if (loading) return /*#__PURE__*/_jsx(Loading, {});\n  if (error) return \"Error! \".concat(error);\n  var locationUser = data.locationUser;\n  return /*#__PURE__*/_jsx(InformLocation, {\n    addLocationMyList: addLocationMyList,\n    locationUser: locationUser\n  });\n};","map":null,"metadata":{},"sourceType":"module"}